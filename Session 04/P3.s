; Program to find a sub-string in a given string.
; Coded by VRG

.TEXT

LDR R0, =A; STRING ADDRESS
LDR R1, =B; SUB-STRING ADDRESS
MOV R5, R0; COPY OF R0
MOV R6, R1; COPY OF R1

OUTERLOOP:
BL SUBMATCH
ADD R0, R0, #1
MOV R5, R0
MOV R6, R1
LDRB R2, [R0]
CMP R2, #00
BEQ NF
BNE OUTERLOOP

SUBMATCH:
LDRB R3, [R5], #1
LDRB R4, [R6], #1
CMP R4, #0
BEQ F
CMP R3, R4
BEQ SUBMATCH
MOV PC, LR

F:
LDR R0, =C
SWI 0X02
B END

NF:
LDR R0, =D
SWI 0X02
B END

END: SWI 0X011

.DATA
A: .ASCIZ "Varun R. Gupta"
B: .ASCIZ "arun R."
C: .ASCIZ "FOUND"
D: .ASCIZ "NOT FOUND"
